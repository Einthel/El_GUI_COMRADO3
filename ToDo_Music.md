- [ ] Реализовать 'умное' кэширование треков на диск для экономии трафика и ускорения загрузки, включая механизм очистки.
- [ ] Пофиксить вычисление длины трека.
- [ ] Вынести 'магические числа' и строки (URL, имена файлов, размеры) в константы.
- [ ] Реализовать предварительное кэширование (pre-caching) соседних треков для мгновенного переключения.
- [ ] Создание меню для ввода токена (в будущем). 
- [ ] Реализовать шифрование токена, чтобы он не лежал в открытом виде в `config.json`.
- [ ] Свайп снизу вверх открывает плеер
- [ ] поправить лэйаут у панели управления плеером

### Анализ и документация модуля `audio_manager`

#### Общая архитектура
Модуль представляет собой трёхслойную систему для взаимодействия с аудиоподсистемой Windows:
1.  **Низкий уровень (`policyconfig.py`):** Прямое объявление недокументированного COM-интерфейса Windows для управления аудиополитиками.
2.  **Средний уровень (`audioSwitch.py`):** Удобная "обёртка" для выполнения конкретных задач (получить список устройств, переключить устройство по умолчанию).
3.  **Прикладной уровень (`audioController.py`):** Функции для управления громкостью отдельных приложений (в текущей задаче не используется).

#### 1. Файл: `policyconfig.py`
*   **Назначение:** Реализация Python-определения для недокументированного COM-интерфейса `IPolicyConfig`. Это ядро, позволяющее программно изменять аудиоустройство по умолчанию в Windows.
*   **Ключевой метод:** `SetDefaultEndpoint(deviceID, role)` — основная команда системе на смену устройства.

#### 2. Файл: `audioSwitch.py`
*   **Назначение:** "Мост" между сложным `policyconfig.py` и основным приложением. Предоставляет высокоуровневые функции.
*   **Ключевые функции:**
    *   `MyAudioUtilities.getAllDevices()`: Сканирует систему и возвращает словарь с именами и ID всех доступных аудиоустройств.
    *   `switchOutput(deviceId, role)`: Вызывает `SetDefaultEndpoint` для фактического переключения устройства.

#### 3. Файл: `audioController.py`
*   **Назначение:** Управление уровнем громкостью как для всей системы (`setMasterVolume`), так и для отдельных приложений по имени процесса. **Не используется** для задачи переключения устройств.

#### 4. Файл: `AudioDLL.dll`
*   **Назначение:** Скомпилированная бинарная библиотека (вероятно, C++). Необходима как зависимость для `audioSwitch.py`. Её основная задача — реализация более сложного функционала, такого как установка аудиоустройства для конкретного приложения.
